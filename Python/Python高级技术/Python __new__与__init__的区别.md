# __new__与__init__的区别
---

差异主要在于mutable(可变的) vs immutable(不可变的)类型。

`__new__`接受一个类型参数(type)作为第一参数并且返回一个这个类型的一个新的实例. 因此, 它适合与可变和不可变的类型一起使用.

`__init__`: 接受一个实例作为第一的参数并且更新这个实例的属性. 这对于不可变类型是不合适的，因为它允许在创建之后通过调用`obj.__ init __(* args)`来修改它们。

### 比较一下`tuple` 与 `list`的背后的行为

```
>>> x = (1, 2)
>>> x
(1, 2)
>>> x.__init__([3, 4])
>>> x # tuple.__init__ does nothing
(1, 2)
>>> y = [1, 2]
>>> y
[1, 2]
>>> y.__init__([3, 4])
>>> y # list.__init__ reinitialises the object
[3, 4]
```
至于为什么他们是分开的（除了简单的历史原因）：`__new__`方法需要一堆样板文件得到正确的（初始对象创建，然后记住返回对象在结束）。 `__init__`方法，相比之下，是死简单，因为你只是设置任何属性，你需要设置。

除了`__init__`方法更容易使用，和上面的mutable vs immutable区分，分离也可以被利用来调用子类中的父类`__init__`是可选的，通过在`__new__`中设置任何绝对必需的实例不变式。这通常是一个可疑的做法 - 通常更清楚的是只需要调用父类`__init__`方法如有必要。
